"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[421,124,940],{8124:(e,l,a)=>{a.r(l),a.d(l,{default:()=>o});var s=a(65043),i=a(73216),n=a(70579);const t=e=>{var l,a,t,o,c,r,d,m,v,u,h,x,j,g,p;let{getCustomerData:b,updateData:N,updateStreet:f,updateLand:C}=e;const[w,y]=(0,s.useState)([]);let D=localStorage.getItem("customerRecord"),k=JSON.parse(D);const S=(0,i.Zp)();let L=localStorage.getItem("tabId")||"customer_info";const M=(e,l,a)=>(a&&"a"===a.target.tagName.toLowerCase()&&a.preventDefault(),"KlientInnen"===l?(localStorage.setItem("tabId","customer_info"),S("/customer/customer_info")):"Kontakte"===l?(localStorage.setItem("tabId","contact"),S("/customer/contact")):"Aktivit\xe4t"===l?(localStorage.setItem("tabId","activity"),S("/customer/activity")):"Dokumente"===l?(localStorage.setItem("tabId","document"),S("/customer/document")):"Vollmachten"===l?(localStorage.setItem("tabId","attorney"),S("/customer/attorney")):"HVD-PV"===l?(localStorage.setItem("tabId","services"),S("/customer/services")):"Rechnung"===l?(localStorage.setItem("tabId","bills"),S("/customer/bills")):void 0);(0,s.useEffect)((()=>{M()}),[L]),console.log("customerInfo",w);let _=localStorage.getItem("customerRecord");JSON.parse(_);const P=null===w||void 0===w||null===(l=w.customer)||void 0===l?void 0:l.startDate,H=new Date(P).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"."),V=null===w||void 0===w||null===(a=w.customer)||void 0===a?void 0:a.fname,I=(null===w||void 0===w||null===(t=w.customer)||void 0===t||null===(o=t.lname)||void 0===o?void 0:o.slice(0,1).toUpperCase())+(null===w||void 0===w||null===(c=w.customer)||void 0===c||null===(r=c.lname)||void 0===r?void 0:r.slice(1).toLowerCase());let Z=((null===w||void 0===w||null===(d=w.customer)||void 0===d||null===(m=d.street)||void 0===m?void 0:m.length)>1?(null===w||void 0===w||null===(v=w.customer)||void 0===v?void 0:v.street)+",  ":"")+(null!==w&&void 0!==w&&null!==(u=w.customer)&&void 0!==u&&u.street?(null===w||void 0===w||null===(h=w.customer)||void 0===h?void 0:h.plz)+"  "+(null===w||void 0===w||null===(x=w.customer)||void 0===x?void 0:x.ort):""),R=null===w||void 0===w||null===(j=w.customer)||void 0===j?void 0:j.status;return(0,s.useEffect)((()=>{(async()=>{const e=await fetch("".concat("http://95.217.77.208:4142","/customer/get_record/").concat(null===k||void 0===k?void 0:k._id)),l=await e.json();y(l)})()}),[N,f,C]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"whiteBox",children:[(0,n.jsx)("div",{className:"blueBoxTop",children:(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsxs)("div",{className:"row d-flex align-items-center",children:[(0,n.jsxs)("div",{className:"col-md-4",children:[(0,n.jsxs)("h3",{children:["KlientIn: ","".concat(V," ").concat(I)]}),(0,n.jsxs)("address",{children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_207_8532)",children:(0,n.jsx)("path",{d:"M16.817 8.89543C16.817 5.62623 14.1646 2.97386 10.8954 2.97386C7.62623 2.97386 4.97386 5.62623 4.97386 8.89543C4.97386 9.40534 5.15891 10.1949 5.60303 11.2476C6.03481 12.2674 6.64753 13.3942 7.35071 14.5333C8.52269 16.4331 9.87972 18.2671 10.8954 19.5748C11.9153 18.2671 13.2723 16.4331 14.4402 14.5333C15.1433 13.3942 15.7561 12.2674 16.1878 11.2476C16.632 10.1949 16.817 9.40534 16.817 8.89543ZM18.7909 8.89543C18.7909 12.4895 13.9796 18.8881 11.87 21.5281C11.3642 22.1573 10.4266 22.1573 9.92084 21.5281C7.81128 18.8881 3 12.4895 3 8.89543C3 4.5365 6.5365 1 10.8954 1C15.2544 1 18.7909 4.5365 18.7909 8.89543ZM12.2113 8.89543C12.2113 8.54643 12.0727 8.21173 11.8259 7.96495C11.5791 7.71817 11.2444 7.57953 10.8954 7.57953C10.5464 7.57953 10.2117 7.71817 9.96495 7.96495C9.71817 8.21173 9.57953 8.54643 9.57953 8.89543C9.57953 9.24443 9.71817 9.57914 9.96495 9.82592C10.2117 10.0727 10.5464 10.2113 10.8954 10.2113C11.2444 10.2113 11.5791 10.0727 11.8259 9.82592C12.0727 9.57914 12.2113 9.24443 12.2113 8.89543ZM7.60567 8.89543C7.60567 8.02293 7.95227 7.18617 8.56922 6.56922C9.18617 5.95227 10.0229 5.60567 10.8954 5.60567C11.7679 5.60567 12.6047 5.95227 13.2216 6.56922C13.8386 7.18617 14.1852 8.02293 14.1852 8.89543C14.1852 9.76793 13.8386 10.6047 13.2216 11.2216C12.6047 11.8386 11.7679 12.1852 10.8954 12.1852C10.0229 12.1852 9.18617 11.8386 8.56922 11.2216C7.95227 10.6047 7.60567 9.76793 7.60567 8.89543Z",fill:"white"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_207_8532",children:(0,n.jsx)("rect",{width:"22",height:"22",fill:"white"})})})]}),(0,n.jsx)("span",{children:Z})]})]}),(0,n.jsxs)("div",{className:"col-md-8 text-md-end",children:[(0,n.jsx)("div",{style:{marginBottom:"8px"},children:null===R||void 0===R||null===(g=R.slice(0,6))||void 0===g?void 0:g.map(((e,l)=>(0,n.jsx)("span",{className:"dm-badge",style:{background:"#4EB772",border:"white",padding:"3px",marginRight:"2mm",fontSize:"13px"},children:(0,n.jsx)("span",{children:e.name})},l)))}),(0,n.jsxs)("div",{className:"d-flex justify-content-md-end justify-content-between mt-1",children:[(0,n.jsx)("button",{className:"btn btn me-3 header-button",children:(0,n.jsxs)("span",{style:{fontSize:"14px",marginRight:"3px",marginLeft:"3px"},children:[" ",H]})}),(0,n.jsxs)("button",{className:"btn btn header-button",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 18 18",fill:"none",style:{marginRight:"2px",marginRight:"1px",marginBottom:"3px"},children:[(0,n.jsx)("g",{clipPath:"url(#clip0_207_8539)",children:(0,n.jsx)("path",{d:"M14.01 11.0623C13.5295 10.8573 12.9729 10.992 12.6418 11.3963L11.6691 12.5858C10.3214 11.8036 9.19642 10.6786 8.41418 9.33086L9.60073 8.36112C10.005 8.03005 10.1427 7.4734 9.93472 6.99292L8.52844 3.7116C8.30871 3.19596 7.75499 2.90885 7.20712 3.02604L3.9258 3.72918C3.38673 3.84344 3 4.32099 3 4.87471C3 11.6483 8.13293 17.2265 14.7219 17.9268C15.0091 17.9561 15.2962 17.9795 15.5891 17.9912H15.5921C15.7708 17.9971 15.9466 18.0029 16.1253 18.0029C16.679 18.0029 17.1566 17.6162 17.2708 17.0771L17.974 13.7958C18.0912 13.2479 17.804 12.6942 17.2884 12.4745L14.0071 11.0682L14.01 11.0623ZM15.9349 16.5937C9.61538 16.4912 4.50882 11.3846 4.40921 5.06515L7.31552 4.44111L8.57532 7.38258L7.52354 8.24393C6.99032 8.68046 6.85262 9.43927 7.19833 10.0369C8.10363 11.5985 9.40444 12.8993 10.966 13.8046C11.5637 14.1503 12.3225 14.0126 12.759 13.4794L13.6203 12.4276L16.5618 13.6874L15.9349 16.5937Z",fill:"white"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_207_8539",children:(0,n.jsx)("rect",{width:"18",height:"18",fill:"white"})})})]}),(0,n.jsx)("span",{style:{fontSize:"14px",marginRight:"3px"},children:null===w||void 0===w||null===(p=w.customer)||void 0===p?void 0:p.phone})]})]})]})]})})}),(0,n.jsx)("div",{className:"whiteBoxWithPdLR",children:(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-sm-12",children:(0,n.jsx)("nav",{children:(0,n.jsxs)("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist",children:[(0,n.jsxs)("button",{className:"nav-link ".concat("customer_info"===L?"active":""),id:"customer_info-tab","data-bs-toggle":"tab",role:"tab","aria-selected":"customer_info"===L,onClick:e=>M(0,"KlientInnen",e),children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_91_3542)",children:(0,n.jsx)("path",{d:"M12 3.875C14.1549 3.875 16.2215 4.73102 17.7452 6.25476C19.269 7.77849 20.125 9.84512 20.125 12C20.125 14.1549 19.269 16.2215 17.7452 17.7452C16.2215 19.269 14.1549 20.125 12 20.125C9.84512 20.125 7.77849 19.269 6.25476 17.7452C4.73102 16.2215 3.875 14.1549 3.875 12C3.875 9.84512 4.73102 7.77849 6.25476 6.25476C7.77849 4.73102 9.84512 3.875 12 3.875ZM12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 9.34784 20.9464 6.8043 19.0711 4.92893C17.1957 3.05357 14.6522 2 12 2C9.34784 2 6.8043 3.05357 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C6.8043 20.9464 9.34784 22 12 22ZM10.4375 15.125C9.91797 15.125 9.5 15.543 9.5 16.0625C9.5 16.582 9.91797 17 10.4375 17H13.5625C14.082 17 14.5 16.582 14.5 16.0625C14.5 15.543 14.082 15.125 13.5625 15.125H13.25V11.6875C13.25 11.168 12.832 10.75 12.3125 10.75H10.4375C9.91797 10.75 9.5 11.168 9.5 11.6875C9.5 12.207 9.91797 12.625 10.4375 12.625H11.375V15.125H10.4375ZM12 9.5C12.3315 9.5 12.6495 9.3683 12.8839 9.13388C13.1183 8.89946 13.25 8.58152 13.25 8.25C13.25 7.91848 13.1183 7.60054 12.8839 7.36612C12.6495 7.1317 12.3315 7 12 7C11.6685 7 11.3505 7.1317 11.1161 7.36612C10.8817 7.60054 10.75 7.91848 10.75 8.25C10.75 8.58152 10.8817 8.89946 11.1161 9.13388C11.3505 9.3683 11.6685 9.5 12 9.5Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_91_3542",children:(0,n.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}),(0,n.jsx)("span",{children:" KlientInnen "})]}),(0,n.jsxs)("button",{className:"nav-link ".concat("contact"===L?"active":""),id:"contact-tab","data-bs-toggle":"tab",role:"tab","aria-controls":"contact","aria-selected":"contact"===L,onClick:e=>M(0,"Kontakte",e),children:[" ",(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_431_39097)",children:(0,n.jsx)("path",{d:"M13.917 3C14.192 3 14.417 3.225 14.417 3.5V15.5C14.417 15.775 14.192 16 13.917 16H4.91699C4.64199 16 4.41699 15.775 4.41699 15.5V3.5C4.41699 3.225 4.64199 3 4.91699 3H13.917ZM4.91699 1.5C3.81387 1.5 2.91699 2.39688 2.91699 3.5V15.5C2.91699 16.6031 3.81387 17.5 4.91699 17.5H13.917C15.0201 17.5 15.917 16.6031 15.917 15.5V3.5C15.917 2.39688 15.0201 1.5 13.917 1.5H4.91699ZM9.41699 9.5C9.94742 9.5 10.4561 9.28929 10.8312 8.91421C11.2063 8.53914 11.417 8.03043 11.417 7.5C11.417 6.96957 11.2063 6.46086 10.8312 6.08579C10.4561 5.71071 9.94742 5.5 9.41699 5.5C8.88656 5.5 8.37785 5.71071 8.00278 6.08579C7.62771 6.46086 7.41699 6.96957 7.41699 7.5C7.41699 8.03043 7.62771 8.53914 8.00278 8.91421C8.37785 9.28929 8.88656 9.5 9.41699 9.5ZM8.41699 10.5C7.03574 10.5 5.91699 11.6188 5.91699 13C5.91699 13.275 6.14199 13.5 6.41699 13.5H12.417C12.692 13.5 12.917 13.275 12.917 13C12.917 11.6188 11.7982 10.5 10.417 10.5H8.41699ZM17.917 4C17.917 3.725 17.692 3.5 17.417 3.5C17.142 3.5 16.917 3.725 16.917 4V6C16.917 6.275 17.142 6.5 17.417 6.5C17.692 6.5 17.917 6.275 17.917 6V4ZM17.417 7.5C17.142 7.5 16.917 7.725 16.917 8V10C16.917 10.275 17.142 10.5 17.417 10.5C17.692 10.5 17.917 10.275 17.917 10V8C17.917 7.725 17.692 7.5 17.417 7.5ZM17.917 12C17.917 11.725 17.692 11.5 17.417 11.5C17.142 11.5 16.917 11.725 16.917 12V14C16.917 14.275 17.142 14.5 17.417 14.5C17.692 14.5 17.917 14.275 17.917 14V12Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_431_39097",children:(0,n.jsx)("rect",{width:"18",height:"18",fill:"white",transform:"translate(0.666992)"})})})]}),(0,n.jsx)("span",{children:" Kontakte"})]}),(0,n.jsxs)("button",{className:"nav-link ".concat("activity"===L?"active":""),id:"activity-tab","data-bs-toggle":"tab","data-bs-target":"#activity",role:"tab","aria-controls":"activity","aria-selected":"activity"===L,onClick:e=>M(0,"Aktivit\xe4t",e),children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_207_8581)",children:(0,n.jsx)("path",{d:"M9.48594 3.00021C9.74609 2.99317 9.97813 3.16661 10.0438 3.41974L11.9023 10.5424L12.5375 9.19005C12.7531 8.73067 13.2172 8.43536 13.7258 8.43536H16.4375C16.7492 8.43536 17 8.68614 17 8.99786C17 9.30958 16.7492 9.56036 16.4375 9.56036H13.7258C13.6531 9.56036 13.5875 9.60255 13.557 9.66817L12.2586 12.4268C12.1578 12.64 11.9328 12.769 11.6984 12.7479C11.4641 12.7268 11.2648 12.558 11.2062 12.3307L9.56328 6.03302L7.80078 14.5525C7.74922 14.808 7.52891 14.9932 7.26875 15.0002C7.00859 15.0072 6.77656 14.8385 6.70859 14.5877L5.35859 9.70099C5.33516 9.61896 5.2625 9.56271 5.17813 9.56271H2.5625C2.25078 9.56271 2 9.31192 2 9.00021C2 8.68849 2.25078 8.43771 2.5625 8.43771H5.17813C5.76875 8.43771 6.28672 8.83146 6.44375 9.40099L7.17031 12.0401L8.94922 3.44786C9.00313 3.19239 9.22344 3.00724 9.48594 3.00021Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_207_8581",children:(0,n.jsx)("rect",{width:"18",height:"18",fill:"white",transform:"translate(0.5)"})})})]}),(0,n.jsx)("span",{children:" Aktivit\xe4t"})]}),(0,n.jsxs)("button",{className:"nav-link ".concat("document"===L?"active":""),id:"document-tab","data-bs-toggle":"tab","data-bs-target":"#document",role:"tab","aria-controls":"document","aria-selected":"document"===L,onClick:e=>M(0,"Dokumente",e),children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_207_8589)",children:(0,n.jsx)("path",{d:"M13.125 15.0938C13.3828 15.0938 13.5938 14.8828 13.5938 14.625V6.1875H11.25C10.7314 6.1875 10.3125 5.76855 10.3125 5.25V2.90625H5.625C5.36719 2.90625 5.15625 3.11719 5.15625 3.375V14.625C5.15625 14.8828 5.36719 15.0938 5.625 15.0938H13.125ZM3.75 3.375C3.75 2.34082 4.59082 1.5 5.625 1.5H10.4736C10.9717 1.5 11.4492 1.69629 11.8008 2.04785L14.4521 4.69922C14.8037 5.05078 15 5.52832 15 6.02637V14.625C15 15.6592 14.1592 16.5 13.125 16.5H5.625C4.59082 16.5 3.75 15.6592 3.75 14.625V3.375Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_207_8589",children:(0,n.jsx)("rect",{width:"18",height:"18",fill:"white",transform:"translate(0.75)"})})})]}),(0,n.jsx)("span",{children:" Dokumente"})]}),(0,n.jsxs)("button",{className:"nav-link ".concat("attorney"===L?"active":""),id:"attorney-tab","data-bs-toggle":"tab","data-bs-target":"#attorney",role:"tab","aria-controls":"attorney","aria-selected":"attorney"===L,onClick:e=>M(0,"Vollmachten",e),children:[(0,n.jsx)("i",{className:"fa-solid fa-paint-roller fa-fw"}),"\xa0 Vollmachten"]}),(0,n.jsxs)("button",{className:"nav-link ".concat("services"===L?"active":""),id:"services-tab","data-bs-toggle":"tab","data-bs-target":"#services",role:"tab","aria-controls":"services","aria-selected":"services"===L,onClick:e=>M(0,"HVD-PV",e),children:[" ",(0,n.jsx)("i",{className:"fa-regular fa-lightbulb fa-fw"}),"\xa0 HVD-PV"]}),(0,n.jsxs)("button",{className:"nav-link ".concat("bills"===L?"active":""),id:"bills-tab","data-bs-toggle":"tab","data-bs-target":"#bills",role:"tab","aria-controls":"bills","aria-selected":"bills"===L,onClick:e=>M(0,"Rechnung",e),children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_207_8565)",children:(0,n.jsx)("path",{d:"M5.125 15.0938H12.625C12.8828 15.0938 13.0938 14.8828 13.0938 14.625V6.1875H10.75C10.2314 6.1875 9.8125 5.76855 9.8125 5.25V2.90625H5.125C4.86719 2.90625 4.65625 3.11719 4.65625 3.375V14.625C4.65625 14.8828 4.86719 15.0938 5.125 15.0938ZM3.25 3.375C3.25 2.34082 4.09082 1.5 5.125 1.5H9.97363C10.4717 1.5 10.9492 1.69629 11.3008 2.04785L13.9521 4.69922C14.3037 5.05078 14.5 5.52832 14.5 6.02637V14.625C14.5 15.6592 13.6592 16.5 12.625 16.5H5.125C4.09082 16.5 3.25 15.6592 3.25 14.625V3.375ZM5.59375 4.78125C5.59375 4.52344 5.80469 4.3125 6.0625 4.3125H8.40625C8.66406 4.3125 8.875 4.52344 8.875 4.78125C8.875 5.03906 8.66406 5.25 8.40625 5.25H6.0625C5.80469 5.25 5.59375 5.03906 5.59375 4.78125ZM5.59375 6.65625C5.59375 6.39844 5.80469 6.1875 6.0625 6.1875H8.40625C8.66406 6.1875 8.875 6.39844 8.875 6.65625C8.875 6.91406 8.66406 7.125 8.40625 7.125H6.0625C5.80469 7.125 5.59375 6.91406 5.59375 6.65625ZM8.875 13.2188C8.875 12.9609 9.08594 12.75 9.34375 12.75H11.6875C11.9453 12.75 12.1562 12.9609 12.1562 13.2188C12.1562 13.4766 11.9453 13.6875 11.6875 13.6875H9.34375C9.08594 13.6875 8.875 13.4766 8.875 13.2188ZM6.53125 8.0625H11.2188C11.7373 8.0625 12.1562 8.48145 12.1562 9V10.875C12.1562 11.3936 11.7373 11.8125 11.2188 11.8125H6.53125C6.0127 11.8125 5.59375 11.3936 5.59375 10.875V9C5.59375 8.48145 6.0127 8.0625 6.53125 8.0625Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_207_8565",children:(0,n.jsx)("rect",{width:"18",height:"18",fill:"white",transform:"translate(0.25)"})})})]}),(0,n.jsx)("span",{children:" Rechnung "})]})]})})})})})})]})})},o=s.memo(t)},26940:(e,l,a)=>{a.r(l),a.d(l,{default:()=>n});var s=a(65043),i=a(70579);function n(e){let{onChange:l,value:a,placeholder:n,className:t,disabled:o}=e;const[c,r]=(0,s.useState)("");(0,s.useEffect)((()=>{if("string"===typeof a){const e=new Date(a);isNaN(e.getTime())?r(""):r(d(e))}else a instanceof Date&&!isNaN(a.getTime())?r(d(a)):r("")}),[a]);const d=e=>{var l,a,s,i,n;const t=null===e||void 0===e||null===(l=e.getDate())||void 0===l||null===(a=l.toString())||void 0===a?void 0:a.padStart(2,"0"),o=null===(s=(null===e||void 0===e?void 0:e.getMonth())+1)||void 0===s||null===(i=s.toString())||void 0===i?void 0:i.padStart(2,"0"),c=null===e||void 0===e||null===(n=e.getFullYear())||void 0===n?void 0:n.toString();return"".concat(t,".").concat(o,".").concat(c)};return(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",onChange:e=>{var l,a,s;let i=null===(l=e.target)||void 0===l?void 0:l.value,n="";i=null===(a=i)||void 0===a?void 0:a.replace(/\D/g,""),(null===(s=i)||void 0===s?void 0:s.length)>8&&(i=i.slice(0,8));for(let o=0;o<(null===(t=i)||void 0===t?void 0:t.length);o++){var t;2!==o&&4!==o||(n+="."),n+=i[o]}r(n)},onBlur:e=>{var a;const s=null===c||void 0===c||null===(a=c.split("."))||void 0===a?void 0:a.map((e=>parseInt(e,10)));let[i,n,t]=s;if(3===(null===s||void 0===s?void 0:s.length)){t<100&&(t+=1900),n<1&&(n=1),n>12&&(n=12);const e=new Date(t,n,0).getDate();i<1&&(i=1),i>e&&(i=e);const a=new Date(t,n-1,i);l(a)}else if(1===(null===s||void 0===s?void 0:s.length)){const e=s[0];if(e<100){let a;a=e<50?e+2e3:e+1900;const s=new Date(a,0,1);l(s)}}},value:c,placeholder:n,className:t,disabled:o})})}},67421:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var s=a(65043),i=a(47503),n=(a(92342),a(8124)),t=a(73216),o=a(26940),c=a(95870),r=(a(9910),a(72798),a(77154)),d=a(70579);const m=()=>{var e,l,a,m,v,u,h,x,j;const g=(0,t.Zp)(),p=((0,t.zy)(),"http://95.217.77.208:4142"),[b,N]=(0,s.useState)(1),[f,C]=(0,s.useState)(!1),[w,y]=(0,s.useState)(""),[D,k]=(0,s.useState)({}),[S,L]=(0,s.useState)([]);let M=localStorage.getItem("customerRecord"),_=JSON.parse(M);const[P,H]=(0,s.useState)({orderNumber:"",newsletterDate:"",extras:"",newsletterSubscription:""}),[V,I]=(0,s.useState)({dataProtection:"",employee:"",remarks:"",war:"",research:""}),[Z,R]=(0,s.useState)(null===_||void 0===_?void 0:_.status),[B,A]=(0,s.useState)(""),[z,O]=(0,s.useState)(""),[T,E]=(0,s.useState)(""),F=null===D||void 0===D||null===(e=D.customer)||void 0===e?void 0:e.startDate,K=new Date(F).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"."),[$,G]=(0,s.useState)({title:"",salution:"",gender:"",fname:"",lname:"",startDate:K,email:""}),[W,J]=(0,s.useState)({billAddress:"",billPlz:"",billLand:"",billOrt:""}),[Y,U]=(0,s.useState)(""),[q,Q]=(0,s.useState)({fname:"",lname:"",address:"",plz:"",land:"",ort:"",phone:"",mobile:"",email:"",alreadyPaid:S.alreadyPaid}),[X,ee]=(0,s.useState)(""),[le,ae]=(0,s.useState)(""),[se,ie]=(0,s.useState)(""),[ne,te]=(0,s.useState)(""),[oe,ce]=(0,s.useState)(""),[re,de]=(0,s.useState)(""),[me,ve]=(0,s.useState)({termination:"",terminationDeath:"",notTermination:"",financialReasons:""}),[ue,he]=(0,s.useState)({}),[xe,je]=(0,s.useState)([]);let ge={fname:(null===$||void 0===$?void 0:$.fname)||(null===D||void 0===D||null===(l=D.customer)||void 0===l?void 0:l.fname),lname:(null===$||void 0===$?void 0:$.lname)||(null===D||void 0===D||null===(a=D.customer)||void 0===a?void 0:a.lname),email:z||(null===D||void 0===D||null===(m=D.customer)||void 0===m?void 0:m.email),phone:(null===q||void 0===q?void 0:q.phone)||(null===D||void 0===D||null===(v=D.customer)||void 0===v?void 0:v.phone),plz:null===q||void 0===q?void 0:q.plz,startDate:(null===$||void 0===$?void 0:$.startDate)||(null===D||void 0===D||null===(u=D.customer)||void 0===u?void 0:u.startDate),status:Z||(null===D||void 0===D||null===(h=D.customer)||void 0===h?void 0:h.status),salution:B||(null===D||void 0===D||null===(x=D.customer)||void 0===x?void 0:x.salution),land:(null===q||void 0===q?void 0:q.land)||(null===D||void 0===D||null===(j=D.customer)||void 0===j?void 0:j.land),id:null===D||void 0===D?void 0:D.id,street:null===q||void 0===q?void 0:q.address,ort:null===q||void 0===q?void 0:q.ort,those:null===D||void 0===D?void 0:D.those,created_by:null===D||void 0===D?void 0:D.created_by};console.log("first",null===q||void 0===q?void 0:q.ort);const pe=e=>{if(e instanceof Date){var l,a;let i=null===e||void 0===e?void 0:e.getFullYear().toString();const n=parseInt(null===(l=i)||void 0===l?void 0:l.substring(0,4),10);var s;if((null===(a=i)||void 0===a?void 0:a.length)>4)i=null===(s=i)||void 0===s?void 0:s.substring(0,4);const t=new Date("".concat(n,".").concat((null===e||void 0===e?void 0:e.getMonth())+1,".").concat(e.getDate()));H({...P,newsletterDate:t})}else if(null!==e&&void 0!==e&&e.target){const{name:l,value:a}=null===e||void 0===e?void 0:e.target;H("newsletterDate"===l?{...P,newsletterDate:a}:{...P,[l]:a})}},be=()=>{let e=(null===q||void 0===q?void 0:q.address).trim();if(/\d$/.test(e)){const[l,a]=e.split(/(\d+)$/);e="".concat(Ne(l.trim())," ").concat(a.trim())}else e=Ne(e);Q({...q,address:e})},Ne=e=>e.split(/[\s-]+/).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "),fe=e=>{if(e instanceof Date){var l,a;let i=null===e||void 0===e?void 0:e.getFullYear().toString();const n=parseInt(null===(l=i)||void 0===l?void 0:l.substring(0,4),10);var s;if((null===(a=i)||void 0===a?void 0:a.length)>4)i=null===(s=i)||void 0===s?void 0:s.substring(0,4);const t=new Date("".concat(n,".").concat((null===e||void 0===e?void 0:e.getMonth())+1,".").concat(e.getDate()));I({...V,dataCollection:t})}else if(e.target){const{name:l,value:a,checked:s,type:i}=e.target;I("dataCollection"===l?{...V,[l]:a}:{...V,[l]:"checkbox"===i?s:a})}else void 0!==e.value&&I({...V,employee:e.value})},Ce=e=>{if(e.target){const{name:l,value:a,type:s,checked:i}=e.target;if("radio"===s){const e=i?a:"";G({...$,[l]:e})}else G({...$,[l]:"checkbox"===s?i:a})}else void 0!==e.value?G({...$,salution:e.value}):console.error("Invalid event or data provided to ContactChange.")},we=e=>{const{name:l,value:a}=e.target;J({...W,[l]:a})},ye=e=>{var l,a;let s=null===e||void 0===e?void 0:e.getFullYear().toString();const i=parseInt(null===(l=s)||void 0===l?void 0:l.substring(0,4),10);var n;(null===(a=s)||void 0===a?void 0:a.length)>4&&(s=null===(n=s)||void 0===n?void 0:n.substring(0,4));return new Date("".concat(i,".").concat((null===e||void 0===e?void 0:e.getMonth())+1,".").concat(e.getDate()))},De={startDeposit:X,nextBrand:le,updateStamp:se,lastStamp:ne,reminderStamp:oe,emergencyPass:re},ke=e=>{const{name:l,type:a,value:s,checked:i}=e.target;Q((e=>({...e,[l]:"checkbox"===a?i:s})))},Se=e=>{const{name:l,checked:a}=e.target,s={...me};!0===s[l]&&a?s[l]=!1:Object.keys(s).forEach((e=>{s[e]=e===l&&a})),ve(s)};console.log("aastha_invoice",S);const Le=async()=>{try{const e=await fetch("".concat(p,"/customer/get_record/").concat(null===_||void 0===_?void 0:_._id)),l=await e.json();he(l)}catch(e){console.error("Error fetching customer record:",e)}},Me=async()=>{try{const e=await r.A.get("".concat(p,"/customer/get_record/").concat(null===_||void 0===_?void 0:_._id));k(null===e||void 0===e?void 0:e.data)}catch(e){console.log(e)}};let _e={...V,clientStatus:Z,dataCollection:Y};const Pe={customer:ge,orderingMaterials:P,customerInfoStatu:_e,those:T,customerContact:$,customerBills:W,customerDelivery:q,customerDeposit:De,customerBurial:me};(0,s.useEffect)((()=>{Me(),Le(),(async()=>{try{const e=await fetch("".concat(p,"/user/get/employeeData")),l=await e.json();je(null===l||void 0===l?void 0:l.data)}catch(e){console.error("Error fetching customer record:",e)}})(),(async()=>{try{const e=await fetch("".concat(p,"/invoice/get_invoice/").concat(_._id)),l=await e.json();L(l)}catch(e){console.error("Error fetching employee data:",e)}})()}),[b,w]);(0,s.useEffect)((()=>{var e,l,a,s,i,n,t,o,c,r,d,m,v,u,h,x,j,g,p,b,N,f,C,w,y,k,S,L,M,P,V,Z,B,z,T,F,K,$,W,Y,q,X,le,se,ne,oe,re,me,ue,he;Q({fname:(null===D||void 0===D||null===(e=D.customerDelivery)||void 0===e?void 0:e.fname)||(null===D||void 0===D||null===(l=D.customer)||void 0===l?void 0:l.fname),lname:(null===D||void 0===D||null===(a=D.customerDelivery)||void 0===a?void 0:a.lname)||(null===D||void 0===D||null===(s=D.customer)||void 0===s?void 0:s.lname),address:(null===D||void 0===D||null===(i=D.customerDelivery)||void 0===i?void 0:i.address)||(null===D||void 0===D||null===(n=D.customer)||void 0===n?void 0:n.street),plz:(null===D||void 0===D?void 0:D.plz)||(null===D||void 0===D||null===(t=D.customer)||void 0===t?void 0:t.plz),land:(null===D||void 0===D?void 0:D.land)||(null===D||void 0===D||null===(o=D.customer)||void 0===o?void 0:o.land),ort:(null===D||void 0===D||null===(c=D.customerDelivery)||void 0===c?void 0:c.ort)||(null===D||void 0===D||null===(r=D.customer)||void 0===r?void 0:r.ort),phone:(null===D||void 0===D?void 0:D.phone)||(null===D||void 0===D||null===(d=D.customer)||void 0===d?void 0:d.phone),mobile:null===D||void 0===D||null===(m=D.customerDelivery)||void 0===m?void 0:m.mobile,alreadyPaid:null===D||void 0===D||null===(v=D.customerDelivery)||void 0===v?void 0:v.alreadyPaid}),H({orderNumber:null===D||void 0===D||null===(u=D.orderingMaterials)||void 0===u?void 0:u.orderNumber,newsletterDate:null===D||void 0===D||null===(h=D.orderingMaterials)||void 0===h?void 0:h.newsletterDate,extras:null===D||void 0===D||null===(x=D.orderingMaterials)||void 0===x?void 0:x.extras,newsletterSubscription:null===D||void 0===D||null===(j=D.orderingMaterials)||void 0===j?void 0:j.newsletterSubscription}),I({dataProtection:null===D||void 0===D||null===(g=D.customerInfoStatu)||void 0===g?void 0:g.dataProtection,employee:null===D||void 0===D||null===(p=D.customerInfoStatu)||void 0===p?void 0:p.employee,remarks:null===D||void 0===D||null===(b=D.customerInfoStatu)||void 0===b?void 0:b.remarks}),U(null===D||void 0===D||null===(N=D.customerInfoStatu)||void 0===N?void 0:N.dataCollection),E(null===D||void 0===D?void 0:D.those),G({title:(null===D||void 0===D||null===(f=D.customerContact)||void 0===f?void 0:f.title)||(null===_||void 0===_?void 0:_.title),salution:null===D||void 0===D||null===(C=D.customerContact)||void 0===C?void 0:C.salution,gender:null===D||void 0===D||null===(w=D.customerContact)||void 0===w?void 0:w.gender,fname:(null===D||void 0===D||null===(y=D.customerContact)||void 0===y?void 0:y.fname)||(null===_||void 0===_?void 0:_.fname),lname:(null===D||void 0===D||null===(k=D.customerContact)||void 0===k?void 0:k.lname)||(null===_||void 0===_?void 0:_.lname),email:(null===D||void 0===D||null===(S=D.customerContact)||void 0===S?void 0:S.email)||(null===D||void 0===D||null===(L=D.customer)||void 0===L?void 0:L.email),startDate:null===D||void 0===D||null===(M=D.customer)||void 0===M?void 0:M.startDate}),J({billAddress:(null===D||void 0===D||null===(P=D.customerBills)||void 0===P?void 0:P.billAddress)||(null===D||void 0===D||null===(V=D.customer)||void 0===V?void 0:V.street),billPlz:(null===D||void 0===D||null===(Z=D.customerBills)||void 0===Z?void 0:Z.billPlz)||(null===D||void 0===D||null===(B=D.customer)||void 0===B?void 0:B.plz),billLand:(null===D||void 0===D||null===(z=D.customerBills)||void 0===z?void 0:z.billLand)||(null===D||void 0===D||null===(T=D.customer)||void 0===T?void 0:T.land),billOrt:(null===D||void 0===D||null===(F=D.customerBills)||void 0===F?void 0:F.billOrt)||(null===D||void 0===D||null===(K=D.customer)||void 0===K?void 0:K.ort)}),de(null===D||void 0===D||null===($=D.customerDeposit)||void 0===$?void 0:$.emergencyPass),ee(null===D||void 0===D||null===(W=D.customerDeposit)||void 0===W?void 0:W.startDeposit),ae(null===D||void 0===D||null===(Y=D.customerDeposit)||void 0===Y?void 0:Y.nextBrand),ie(null===D||void 0===D||null===(q=D.customerDeposit)||void 0===q?void 0:q.updateStamp),ce(null===D||void 0===D||null===(X=D.customerDeposit)||void 0===X?void 0:X.reminderStamp),te(null===D||void 0===D||null===(le=D.customerDeposit)||void 0===le?void 0:le.lastStamp),ve({termination:null===D||void 0===D||null===(se=D.customerBurial)||void 0===se?void 0:se.termination,terminationDeath:null===D||void 0===D||null===(ne=D.customerBurial)||void 0===ne?void 0:ne.terminationDeath,notTermination:null===D||void 0===D||null===(oe=D.customerBurial)||void 0===oe?void 0:oe.notTermination,financialReasons:null===D||void 0===D||null===(re=D.customerBurial)||void 0===re?void 0:re.financialReasons}),E(null===D||void 0===D?void 0:D.those),R(null===D||void 0===D||null===(me=D.customer)||void 0===me?void 0:me.status),A(null===D||void 0===D||null===(ue=D.customer)||void 0===ue?void 0:ue.salution),O(null===D||void 0===D||null===(he=D.customer)||void 0===he?void 0:he.email)}),[D]);return(0,d.jsxs)("div",{className:"inner-page-wrap",children:[(0,d.jsx)(n.default,{getCustomerData:ue,updateData:f}),(0,d.jsxs)("div",{className:"tab-content px-3",children:[(0,d.jsx)("div",{className:"tab-title",children:(0,d.jsx)("h4",{children:"KlientInnen"})}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col",children:[(0,d.jsxs)("div",{className:"block-wrap",children:[(0,d.jsx)("h3",{children:"Materialbestellung"}),(0,d.jsx)("div",{className:"row-wrap",children:(0,d.jsxs)("div",{className:"row",style:{marginLeft:"5px"},children:[(0,d.jsx)("div",{className:"col-sm-3",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-5 col-form-label",children:"Anzahl Frageb\xf6gen"}),(0,d.jsx)("div",{className:"col-sm-7",children:(0,d.jsx)("input",{type:"number",value:P.orderNumber,name:"orderNumber",onChange:pe,className:"form-control"})})]})}),(0,d.jsx)("div",{className:"col-sm-2",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-3 col-form-label",children:"Extras"}),(0,d.jsx)("div",{className:"col-sm-9",children:(0,d.jsx)("input",{type:"text",name:"extras",value:P.extras,onChange:pe,className:"form-control w-100",placeholder:"Extras"})})]})}),(0,d.jsx)("div",{className:"col-sm-3",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{htmlFor:"inputPassword",className:"col-sm-5 col-form-label",children:"Newsletter-Datum"}),(0,d.jsx)("div",{className:"col-sm-7",children:(0,d.jsx)(o.default,{name:"newsletterDate",value:null===P||void 0===P?void 0:P.newsletterDate,onChange:pe,className:"form-control",placeholder:"Newsletter-Datum"})})]})}),(0,d.jsx)("div",{className:"col-sm-4",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-form-label col-sm-5",children:"Newsletter-Abonnement"}),(0,d.jsxs)("div",{className:"col-sm-7",children:[(0,d.jsxs)("div",{className:"radio-check-wrap",children:[(0,d.jsx)("input",{type:"radio",name:"newsletterSubscription",value:"active",checked:"active"===P.newsletterSubscription,onChange:pe}),(0,d.jsx)("span",{children:"Aktiv"})]}),(0,d.jsxs)("div",{className:"radio-check-wrap",children:[(0,d.jsx)("input",{type:"radio",name:"newsletterSubscription",value:"inactive",checked:"inactive"===P.newsletterSubscription,onChange:pe}),(0,d.jsx)("span",{children:"Inaktiv"})]})]})]})})]})}),(0,d.jsx)("h3",{children:"Status"}),(0,d.jsx)("div",{className:"border-bottom mb-3",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row mb-3",children:[(0,d.jsx)("label",{className:"col-sm-3 col-form-label",children:"Status"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("div",{className:"card flex justify-content-center p-3",children:[{name:"HLG",code:"0"},{name:"HVD-PV",code:"1"},{name:"OPV-alt",code:"2"},{name:"SPV-alt",code:"3"},{name:"SpenderIn",code:"4"},{name:"Newsletter",code:"5"},{name:"Material",code:"6"},{name:"Offen",code:"7"},{name:"WaR",code:"8"},{name:"Recherche",code:"9"}].map((e=>(0,d.jsx)("div",{className:"checkbox-container",children:(0,d.jsxs)("div",{className:"radio-check-wrapp",children:[(0,d.jsx)("input",{type:"checkbox",checked:Z&&Z.some((l=>l.code===e.code)),onChange:l=>((e,l)=>{e.target.checked?R([...Z,l]):R(Z.filter((e=>e.code!==l.code)))})(l,e)}),(0,d.jsx)("label",{className:"city-label",children:e.name})]})},e.code)))})})]})}),(0,d.jsx)("div",{className:"col-sm-6 mb-3",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Bemerkungen"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("textarea",{value:V.remarks,name:"remarks",onChange:fe,className:"form-control",rows:14})})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row mb-3",children:[(0,d.jsx)("label",{className:"col-sm-3 col-form-label",children:"MitarbeiterInnen"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(c.Ay,{className:"w-100",placeholder:"MitarbeiterInnen",options:null===xe||void 0===xe?void 0:xe.map((e=>({value:e.username,label:e.username}))),onChange:fe,value:{value:V.employee||"MitarbeiterInnen",label:V.employee||"MitarbeiterInnen"},name:"employee"})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row mb-3",children:[(0,d.jsx)("label",{htmlFor:"inputDate",className:"col-sm-4 col-form-label",children:"Datenerfassung"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:Y,onChange:e=>{U(e)},className:"form-control",placeholder:"Datenerfassung"})})]})})]})]})}),(0,d.jsx)("h3",{children:"Quelle"}),(0,d.jsx)("div",{className:"border-0",children:(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-3 col-form-label",children:"Auswahl"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("div",{className:"input-group",children:(0,d.jsx)(c.Ay,{className:"w-100",options:[{value:"order",label:"Auftrag (Online-Maske) "},{value:"contact form",label:"Kontaktformular"},{value:"order print",label:"Auftrag / Print"},{value:"website",label:"Webseite"},{value:"e-mail",label:"E-Mail"},{value:"call",label:"Anruf"},{value:"letter",label:"Zuschrift (Post)"},{value:"HVD regional association",label:"HVD-Landesverband"},{value:"Regional association MOL",label:"Regionalverband MOL"},{value:"Northern Regional Association",label:"Regionalverband NORD"},{value:"Regional association",label:"Regionalverband Potsdam"},{value:"inter",label:"intern"},{value:"anderes",label:"anderes"}],onChange:e=>{E(e)},value:T,name:"those",placeholder:"Auswahl"})})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row mb-3",children:[(0,d.jsx)("label",{className:"col-sm-6 col-form-label",children:"Zustimmung Datenschutz"}),(0,d.jsx)("div",{className:"col-sm-4 mt-2",children:(0,d.jsxs)("div",{className:"radio-check-wrap w-100 h-100",children:[(0,d.jsx)("input",{type:"checkbox",name:"dataProtection",onChange:fe,checked:V.dataProtection}),(0,d.jsx)("span",{})]})})]})})]})})})]}),(0,d.jsxs)("div",{className:"block-wrap",children:[(0,d.jsx)("h3",{children:"Kontaktdaten"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Titel"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",value:$.title,name:"title",onChange:Ce,className:"form-control",placeholder:"Titel"})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Geburtsdatum"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:null===$||void 0===$?void 0:$.startDate,onChange:e=>{G({...$,startDate:e})},name:"startDate",className:"form-control",placeholder:"Geburtsdatum"})})]})})]}),(0,d.jsxs)("div",{className:"row mb-3",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Anrede"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(c.Ay,{className:"w-100",value:B,name:"salution",placeholder:"Anrede",options:[{value:"herr",label:"Herr"},{value:"frau",label:"Frau"},{value:"divers",label:"Divers"}],onChange:e=>{A(e)}})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Geschlecht"}),(0,d.jsx)("div",{className:"col-sm-6 mt-2",children:(0,d.jsxs)("div",{className:"radio-wrap",children:[(0,d.jsxs)("div",{className:"radio-input",children:[(0,d.jsx)("input",{type:"radio",id:"male",value:"male",name:"gender",onChange:Ce,checked:"male"===$.gender}),(0,d.jsx)("span",{children:"M\xe4nnlich"})]}),(0,d.jsxs)("div",{className:"radio-input",children:[(0,d.jsx)("input",{type:"radio",id:"female",value:"female",name:"gender",onChange:Ce,checked:"female"===$.gender}),(0,d.jsx)("span",{children:"Weiblich"})]}),(0,d.jsxs)("div",{className:"radio-input",children:[(0,d.jsx)("input",{type:"radio",id:"divers",value:"other",name:"gender",onChange:Ce,checked:"other"===$.gender}),(0,d.jsx)("span",{children:"Divers"})]})]})})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Vornamen"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",placeholder:"Vornamen",value:$.fname,name:"fname",onChange:Ce,className:"form-control"})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Name"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",name:"lname",onChange:Ce,value:$.lname})})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"E-Mail-Adresse"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",name:"email",placeholder:"E-Mail-Adresse",onChange:e=>{var l;O(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value)},value:z,className:"form-control",id:"inputEmail"})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Telefon"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{placeholder:"Telefon",className:"form-control",name:"phone",value:null===q||void 0===q?void 0:q.phone,onChange:e=>{const l=e.target.value.replace(/[^\d+ ]/g,"");/^\+?(?:[0-9] ?){0,}$/.test(l)&&Q({...q,phone:l})},maxLength:20,minLength:3})})]})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Mobil"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{placeholder:"Mobil",className:"form-control",name:"mobile",value:null===q||void 0===q?void 0:q.mobile,onChange:e=>{const l=e.target.value.replace(/[^\d+ ]/g,"");/^\+?(?:[0-9] ?){0,}$/.test(l)&&Q({...q,mobile:l})},maxLength:20,minLength:3})})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Bereits bezahlt"}),(0,d.jsx)("div",{className:"col-sm-6 mt-2",children:(0,d.jsxs)("div",{className:"radio-check-wrap",children:[(0,d.jsx)("input",{onChange:ke,name:"alreadyPaid",checked:null===q||void 0===q?void 0:q.alreadyPaid,type:"checkbox"}),(0,d.jsx)("span",{children:"ja"})]})})]})})]}),(0,d.jsx)("h6",{children:"Adresse"}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-sm-6",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Stra\xdfe mit Hausnummer"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",onChange:e=>Q({...q,address:e.target.value}),onBlur:be,name:"address",placeholder:"Stra\xdfe mit Hausnummer",value:q.address,className:"form-control"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"PLZ"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"tel",value:q.plz,onChange:e=>{const l=e.target.value.replace(/[^0-9a-zA-Z9\xe4\xf6\xfc\xc4\xd6\xdc\xdf\xc4\xd6\xdc\xdf\s'-]/g,"");Q({...q,plz:l})},placeholder:"PLZ",className:"form-control",maxLength:10,minLength:3,required:!0})})]})]}),(0,d.jsxs)("div",{className:"col-sm-6",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Ort"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",onChange:ke,name:"ort",placeholder:"Ort",value:null===q||void 0===q?void 0:q.ort,className:"form-control"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Land"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",name:"land",onBlur:be,placeholder:"Land",onChange:e=>{var l,a;const s=null===e||void 0===e||null===(l=e.target)||void 0===l||null===(a=l.value)||void 0===a?void 0:a.replace(/[^0-9a-zA-Z9\xe4\xf6\xfc\xc4\xd6\xdc\xdf\xc4\xd6\xdc\xdf\s'-]/g,"");ke({target:{name:"land",value:s}})},value:null===q||void 0===q?void 0:q.land,className:"form-control"})})]})]})]}),(0,d.jsx)("h6",{children:"Lieferadresse c/o"}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-sm-6",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Vornamen"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",onChange:ke,name:"fname",placeholder:"Vornamen",value:null===q||void 0===q?void 0:q.fname,className:"form-control"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Stra\xdfe mit Hausnummer"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",onChange:we,name:"billAddress",onBlur:e=>{const{name:l,value:a}=e.target;let s=a.trim();/\d$/.test(a)&&(s=a.replace(/(\D)(\d)/,"$1 $2")),J({...W,[l]:s})},placeholder:"Stra\xdfe mit Hausnummer",value:W.billAddress,className:"form-control"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{htmlFor:"inputText",className:"col-sm-4 col-form-label",children:"Ort"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",onChange:we,name:"billOrt",placeholder:"Ort",value:W.billOrt,className:"form-control",id:"inputText"})})]})]}),(0,d.jsxs)("div",{className:"col-sm-6",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Name"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",placeholder:"Name",onChange:ke,name:"lname",value:null===q||void 0===q?void 0:q.lname,className:"form-control"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"PLZ"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"tel",value:W.billPlz,onChange:e=>{const l=e.target.value.replace(/[^0-9a-zA-Z9\xe4\xf6\xfc\xc4\xd6\xdc\xdf\xc4\xd6\xdc\xdf\s'-]/g,"");J({...W,billPlz:l})},placeholder:"PLZ",className:"form-control",maxLength:10,minLength:3,required:!0})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Land"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)("input",{type:"text",name:"billLand",placeholder:"Land",onBlur:e=>{const{name:l,value:a}=e.target;let s=a.trim();/\d$/.test(a)&&(s=a.replace(/(\D)(\d)/,"$1 $2")),J({...W,[l]:s})},onChange:e=>{var l;const a=null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value.replace(/[^0-9a-zA-Z9\xe4\xf6\xfc\xc4\xd6\xdc\xdf\xc4\xd6\xdc\xdf\s'-]/g,"");we({target:{name:"billLand",value:a}})},value:W.billLand,className:"form-control"})})]})]})]})]})]}),(0,d.jsxs)("div",{className:"block-wrap",children:[(0,d.jsx)("h3",{children:"Hinterlegung"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-sm-6",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Hinterlegungsbeginn"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:X,onChange:e=>{var l,a;let s=null===e||void 0===e?void 0:e.getFullYear().toString();const i=parseInt(null===(l=s)||void 0===l?void 0:l.substring(0,4),10);var n;(null===(a=s)||void 0===a?void 0:a.length)>4&&(s=null===(n=s)||void 0===n?void 0:n.substring(0,4));const t=new Date("".concat(i,".").concat((null===e||void 0===e?void 0:e.getMonth())+1,".").concat(e.getDate()));ee(t)},className:"form-control",placeholder:"Hinterlegungsbeginn"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Versand n\xe4chste Marke"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:le,onChange:e=>{const l=ye(e);ae(l)},className:"form-control",placeholder:"Versand n\xe4chste Marke"})})]})]}),(0,d.jsxs)("div",{className:"col-sm-6",children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Versand letzte Marke"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:se,onChange:e=>{const l=ye(e);ie(l)},className:"form-control",placeholder:"Versand letzte Marke"})})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"R\xfccksendung letzte Marke"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:ne,onChange:e=>{const l=ye(e);te(l)},className:"form-control",placeholder:"R\xfccksendung letzte Marke"})})]})]})]}),(0,d.jsxs)("div",{className:"row ",children:[(0,d.jsx)("div",{className:"col-sm-6 mt-2",style:{padding:"0px"},children:(0,d.jsxs)("div",{className:"radio-check-wrap",children:[(0,d.jsx)("input",{type:"checkbox",onChange:e=>{de(e.target.checked)},checked:re,name:"emergencyPass"})," ",(0,d.jsx)("span",{children:" Notfallpass"})]})}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-4 col-form-label",children:"Erinnerung Marke"}),(0,d.jsx)("div",{className:"col-sm-6",children:(0,d.jsx)(o.default,{value:oe,onChange:e=>{const l=ye(e);ce(l)},className:"form-control",placeholder:"Erinnerung Marke"})})]})})]})]})]}),(0,d.jsxs)("div",{className:"block-wrap",children:[(0,d.jsx)("h3",{children:"Beendigung"}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-3 col-sm-6",style:{padding:"0px"},children:(0,d.jsxs)("div",{className:"radio-check-wrap w-100",children:[(0,d.jsx)("input",{type:"checkbox",onChange:Se,checked:me.termination,name:"termination"}),(0,d.jsx)("span",{children:"Auf eigenen Wunsch"})]})}),(0,d.jsx)("div",{className:"col-md-3 col-sm-6",style:{padding:"0px"},children:(0,d.jsxs)("div",{className:"radio-check-wrap w-100",children:[(0,d.jsx)("input",{type:"checkbox",onChange:Se,checked:me.terminationDeath,name:"terminationDeath"}),(0,d.jsx)("span",{children:" Durch Tod"})]})}),(0,d.jsx)("div",{className:"col-md-3 col-sm-6",style:{padding:"0px"},children:(0,d.jsxs)("div",{className:"radio-check-wrap w-100",children:[(0,d.jsx)("input",{type:"checkbox",onChange:Se,checked:me.notTermination,name:"notTermination"}),(0,d.jsx)("span",{children:"Weil nicht ermittelbar"})]})}),(0,d.jsx)("div",{className:"col-md-3 col-sm-6",style:{padding:"0px"},children:(0,d.jsxs)("div",{className:"radio-check-wrap w-100",children:[(0,d.jsx)("input",{type:"checkbox",onChange:Se,checked:me.financialReasons,name:"financialReasons"}),(0,d.jsx)("span",{children:" Aus finanziellen Gr\xfcnden"})]})})]})})]})]})})}),(0,d.jsxs)("div",{className:"text-end mt-4 mx-3 mb-3 pb-3",children:[(0,d.jsx)("button",{onClick:()=>{g("/customerlist")},type:"button",className:"btn btn",style:{background:"#d04545",color:"white"},children:"Abbrechen"}),"\xa0 \xa0",(0,d.jsx)("button",{onClick:async e=>{if(e.preventDefault(),0===(null===Z||void 0===Z?void 0:Z.length))return i.oR.warning("Das Statusfeld ist erforderlich");let l=new Date;if((null===$||void 0===$?void 0:$.startDate)>l)return i.oR.warning("Das Geburtsdatum darf nicht in der Zukunft liegen.");if((null===De||void 0===De?void 0:De.startDeposit)>l||(null===De||void 0===De?void 0:De.nextBrand)>l||(null===De||void 0===De?void 0:De.updateStamp)>l||(null===De||void 0===De?void 0:De.lastStamp)>l||(null===De||void 0===De?void 0:De.reminderStamp)>l||(null===De||void 0===De?void 0:De.emergencyPass)>l)return i.oR.warning("Das Geburtsdatum darf nicht in der Zukunft liegen.");if((null===P||void 0===P?void 0:P.newsletterDate)>l)return i.oR.warning("Das Geburtsdatum darf nicht in der Zukunft liegen.");const a=null===$||void 0===$?void 0:$.startDate;let s=new Date(a);if((l.getTime()-s.getTime())/315576e5<18)return i.oR.warning("Du musst mindestens 18 Jahre alt sein, um einen Vertrag zu unterschreiben.");if(a instanceof Date&&(null===a||void 0===a?void 0:a.getFullYear())<1900)return i.oR.warning("Das Startdatum darf nicht vor 1900 liegen.");if(Y>l)return i.oR.warning("Die Datenerfassung darf nicht in der Zukunft liegen.");if(null!==q&&void 0!==q&&q.phone&&null!==q&&void 0!==q&&q.phone.startsWith("000"))return i.oR.warning("Ung\xfcltige Telefonnummer");if(null!==q&&void 0!==q&&q.mobile&&null!==q&&void 0!==q&&q.mobile.startsWith("000"))return i.oR.warning("Ung\xfcltige Telefonnummer");try{let e=await fetch("".concat(p,"/customer/get_record/edit/").concat(null===_||void 0===_?void 0:_._id),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)}),l=await e.json();if(400===l.status&&i.oR.warning("Bitte eine g\xfcltige Email eingeben"),"Customer updated successfully"===(null===l||void 0===l?void 0:l.message)){let e=l.data.customerInfoStatu.remarks;localStorage.setItem("remarks",JSON.stringify(e)),Me(),i.oR.success("Daten erfolgreich gespeichert"),Le(),C(!f)}}catch(n){i.oR.error("Fehler beim Speichern der Daten. Bitte versuche es erneut.")}},type:"button",style:{background:"#0b5995",color:"white"},className:"btn btn",children:"Speichern"})]})]}),(0,d.jsx)(i.N9,{})]})},v=s.memo(m)},72798:()=>{},9910:()=>{}}]);
//# sourceMappingURL=421.a7fa5f6d.chunk.js.map